

    <img src="/assets/banner.jpg" class="w-100 m-0 p-0" style="height: 250px;" alt="">
<div class="container-fluid retro-container">

  <div class="row justify-content-center align-items-center mt-4 mb-2">
    <div class="col-lg-8 text-center">

      <!-- <p class="retro-subheading text-light"> Start your Day by Eating the Frog!</p> -->
    </div>

  </div>

    <div class=" p-4">



      <div class="row justify-content-between">




        <!-- RIGHT PANEL: TO-DO LIST & FORM -->
        <div class="col-lg-5">
          <div class="card p-3 retro-list-card">

            <!-- Form for adding new tasks -->
            <form class="retro-form mb-4" (ngSubmit)="addTask()">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control retro-input p-4"
                  placeholder="Add a new task..."
                  [(ngModel)]="newTask"
                  name="newTask"
                />
                <button type="submit" class="btn retro-btn">Add Task</button>
              </div>
            </form>

            <!-- List to display all tasks -->
            <ul class="list-group retro-list">
              <li
                class="list-group-item d-flex justify-content-between align-items-center retro-list-item"
                *ngFor="let todo of allTasks"
                [class.completed]="todo.completed"
              >
               <!-- Conditional Display: Show text or input field -->
      <span *ngIf="!currentEditTask || currentEditTask.id !== todo.id" class="retro-text" [class.completed-text]="todo.completed">
      <span class="material-symbols-outlined" *ngIf="todo.completed">
select_check_box
</span>
        {{ todo.task }}
      </span>

           <textarea
        *ngIf="currentEditTask && currentEditTask.id === todo.id"
        [(ngModel)]="currentEditTask.task"
        class="form-control retro-input"
        rows="1"
        style="overflow-y: hidden; resize: none;"
      ></textarea>


           <div class="d-flex align-items-center">
              <button
                class="btn btn-sm retro-complete-btn"
                (click)="completeTodo(todo.id)"
                *ngIf="!todo.completed"
              >
               <span class="material-symbols-outlined">
done_outline
</span>
              </button>


        <!-- Edit Button Logic -->




        <button
          *ngIf="!currentEditTask || currentEditTask.id !== todo.id"
          class="btn btn-sm retro-edit-btn m-2"
          (click)="editTodo(todo)"
        >
        <span class="material-symbols-outlined">
edit
</span>
        </button>

        <!-- Save Button Logic -->
        <button
          *ngIf="currentEditTask && currentEditTask.id === todo.id"
          class="btn btn-sm retro-save-btn"
          (click)="saveEdit()"
        >
          <span class="material-symbols-outlined">
check_circle
</span>
        </button>

        <!-- Delete Button Logic -->
        <button
          class="btn btn-sm m-1 retro-delete-btn"
          (click)="deleteTodo(todo.id)"
        >
         <span class="material-symbols-outlined">
delete
</span>
        </button>
          <span class="score fs-5  text-end" *ngIf="!todo.completed">
        <span class="p-2 border-0 rounded-3"> <span  class="countdown-text">{{ getRemainingTime(todo.createdAt).timeString }}</span> |</span>
      <span class="countdown-text">Points: {{ getRemainingTime(todo.createdAt).points }}</span>
      </span>
      </div>
              </li>
            </ul>

            <!-- Message to show when the list is empty -->
            <p
              *ngIf="allTasks?.length === 0"
              class="text-center mt-4 retro-empty-message"
            >
              You have no tasks! ðŸŽ‰
            </p>

          </div>
        </div>
         <div class="col-lg-3 mb-4 mb-lg-0">
        <app-friend-requests></app-friend-requests>
        </div>
      </div>

    </div>

</div>
